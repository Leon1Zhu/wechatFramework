# 为什么要使用微服务

首先，架构是慢慢演进的，不是一蹴而就(架构演进史见下图)。软件的不同时期、阶段，对技术的理解、选择和应用都有着不一样的诉求。架构的选型永远都只有合适与不合适，而不是那个更好。

<center><img src="http://otdc3q7z7.bkt.clouddn.com/%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B%E8%B6%8B%E5%8A%BF%E5%9B%BE.jpg"></center>

## 传统IT架构面临的问题以及微服务的解决方案

* 使用传统架构进开发系统，如ERP等大型应用，随着需求的不断增加，功能点的不断迭代，企业需要更新和修复大量代码，整个项目也变的愈发庞大、难以管理。伴随着规模的扩大，启动时间也越来越长，自然会拖慢开发进度，一个小功能的修改和部署都变的十分麻烦，漏洞和BUG修复就更加困难。

* 很多公司的不同业务都会有不同的管理后台，每个后台都要登陆、注册、权限管理等相似的功能，使用传统架构开发，每次都需拷贝代码，无法对基础模块进行管理。

* 随着移动互联网的发展，企业被迫将其应用迁移至现代化UI界面架构以便能兼容移动设备，这要求企业能实现应用的快速上线，而传统的IT架构往往从搭建到部署需要浪费许多时间。

* 在传统架构中，任意的漏洞或者错误都影响整个应用，这样降低了系统的可靠性。

* 由于微服务的每个服务都是独立且微小的，整体程序被分解成可管理的模块和服务，单个的服务可以更快的开发、更简单的理解和维护。

* 微服务的API网关可以对所有服务接口做统一的安全拦截和权限校验，无需在重复的复制拷贝代码。

* 由于每个微服务可以由单独的团队负责，任然可以采用敏捷开发的模式，自由选择合适的技术，甚至可以重写老服务。

* 在微服务架构中，各个服务之间是解耦的，一个服务出错并不会影响整个应用。

## 日渐成熟的技术支持

* 互联网/内联网/网络更加成熟。

* 新的方法与工具的出现（TDD,CI,Agile，DevOps等）。

* 新的轻量级协议（RESTful API接口，轻量级消息机制）。

* 简化的基础设施：操作系统虚拟化(hypervisors), 容器化(e.g. Docker), 基础设施即服务 (IaaS), 工作负载虚拟化(Kubernetes,Spark…)等。


* 服务平台化(PaaS)： 云服务平台上具有自动缩放、工作负载管理、SLA 管理、消息机制、缓存、构建管理等各种按需使用的服务。


* 新的可替代数据持久化模型：如NoSQL, MapReduce, BASE, CQRS等。


* 标准化代码管理：如Github等。

#### 这一切都催生了新的架构设计风格——微服务的诞生与使用



